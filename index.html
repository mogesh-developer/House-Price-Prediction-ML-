<!DOCTYPE html>
<html>
<head>
    <title>House Price Predictor</title>
    <style>
        body { font-family: sans-serif; margin: 50px; }
        .form-group { margin-bottom: 15px; }
        input, select { padding: 8px; width: 200px; }
        button { padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer; }
        #result { margin-top: 20px; font-weight: bold; font-size: 1.2em; color: blue; }
    </style>
</head>
<body>
    <h1>üè† House Price Predictor</h1>
    
    <div class="form-group">
        <label>Area (sqft):</label><br>
        <input type="number" id="area" value="1500">
    </div>
    <div class="form-group">
        <label>Bedrooms:</label><br>
        <input type="number" id="bedrooms" value="3">
    </div>
    <div class="form-group">
        <label>Bathrooms:</label><br>
        <input type="number" id="bathrooms" value="2">
    </div>
    <div class="form-group">
        <label>Location:</label><br>
        <select id="location">
            <option value="Chennai">Chennai</option>
            <option value="Bangalore">Bangalore</option>
            <option value="Madurai">Madurai</option>
        </select>
    </div>

    <button onclick="getPrediction()">Predict Price</button>

    <div id="result"></div>

    <script>
        async function getPrediction() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerText = "Processing...";

            const data = {
                area: document.getElementById('area').value,
                bedrooms: document.getElementById('bedrooms').value,
                bathrooms: document.getElementById('bathrooms').value,
                location: document.getElementById('location').value
            };

            try {
                const response = await fetch('http://127.0.0.1:8001/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                
                if(result.predicted_price) {
                    resultDiv.innerText = "Predicted Price: ‚Çπ" + result.predicted_price.toLocaleString();
                } else {
                    resultDiv.innerText = "Error: " + (result.error || "Unknown error");
                }
            } catch (error) {
                resultDiv.innerText = "Could not connect to API. Is main.py running?";
            }
        }
    </script>
</body>
</html>